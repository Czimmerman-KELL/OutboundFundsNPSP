<template>
  <c-manage-expenditures-header
    parentname={parentName}
    disable-save={disableSave}
  ></c-manage-expenditures-header>
  <!-- for debugging purposes only
  <template for:each={gauExpenditures} for:item="gauExpenditure">
    <p key={gauExpenditure.recordId}>
      rowId: {gauExpenditure.rowId}; gauId: {gauExpenditure.gauId}; amount:
      {gauExpenditure.amount}<br />
    </p>
  </template>
  end debugger -->
  <c-manage-expenditures-table-header></c-manage-expenditures-table-header>
  <table class="slds-table slds-table_cell-buffer slds-table_bordered">
    <tbody>
      <template for:each={gauExpenditures} for:item="gauExpenditure">
        <tr class="slds-hint-parent" key={gauExpenditure.rowId}>
          <th scope="row">
            <c-gau-expenditure-row
              prefill-expenditure={gauExpenditure}
              parent-amount={parentAmount}
              onupdate={handleUpdate}
              ondelete={handleUpdate}
            ></c-gau-expenditure-row>
          </th>
        </tr>
      </template>
      <tr>
        <th scope="row">
          <lightning-layout vertical-align="end">
            <lightning-layout-item padding="horizontal-small" size="7">
            </lightning-layout-item>
            <lightning-layout-item
              padding="horizontal-small"
              class="slds-m-left_small color:red;"
              size="2"
            >
              <div class={remainingAmountStatus}>
                <lightning-formatted-number
                  value={remainingAmount}
                  format-style="currency"
                  currency-code="USD"
                  minimum-fraction-digits="2"
                  maximum-fraction-digits="2"
                ></lightning-formatted-number>
              </div>
            </lightning-layout-item>
          </lightning-layout>
        </th>
      </tr>
    </tbody>
  </table>
  <lightning-button
    variant="base"
    label="Add Row"
    onclick={addRow}
    class="slds-m-left_x-small"
  ></lightning-button>
  <div style="height:200px;"></div>
</template>
